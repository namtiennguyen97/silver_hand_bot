<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>SAO-ÄÃŠM â€“ Mayor AI</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- CSS dÃ¹ng láº¡i -->
  <link rel="stylesheet" href="assets/css/modal_faq.css">
  <link rel="stylesheet" href="assets/css/main_clone_mobile.css">
  <link rel="stylesheet" href="assets/css/loading.css">
  <link rel="stylesheet" href="assets/css/tutorial.css">
  <link rel="icon" type="image/png" href="assets/img/mayor_avatar.jpg">
  <link rel="stylesheet" href="assets/css/heartlock_zone_info.css">
  <link rel="stylesheet" href="assets/css/cert_info.css">
  <link rel="stylesheet" href="assets/css/mobile_index.css">


</head>
<body>

<div id="stage">
  <div id="ambient"></div>
  <video id="video" src="assets/videos/mobile_workspace_mayor.mp4" autoplay muted loop playsinline></video>
</div>

<div id="hotspot-layer">
  <div class="hotspot" data-x="620" data-y="360">
    <div class="hotspot-dot"></div>

    <div class="hotspot-line"></div>

    <div class="hotspot-tooltip">
      <div class="tooltip-box">
        <div class="tooltip-title">CONTROL PANEL ACCESS</div>
        <div class="tooltip-text">Access</div>
      </div>
    </div>
  </div>
</div>



<div id="hope-clock" class="home-clock">
	<span>
		Hope 101 time:
		<span id="clock"></span>
	</span>
</div>

<button id="tutorialHelpBtn" class="tutorial"
        title="Xem láº¡i hÆ°á»›ng dáº«n">
  â”
</button>

<div id="loadingOverlay">
  <div class="loading-wrapper">
    <div class="loading-text">
      <span class="sao">SAO &nbsp;</span><span class="dem"> ÄÃŠM</span>
    </div>

    <!-- ğŸ”½ PROGRESS BAR -->
    <div class="loading-progress">
      <div class="progress-bar" id="loadingProgress"></div>
    </div>

    <div class="line top"></div>
    <div class="line bottom"></div>
  </div>
</div>

<!--<div class="overview-container">-->

<!--  &lt;!&ndash; MAYOR AVATAR &ndash;&gt;-->
<!--  <div class="mayor-hero">-->
<!--    <img src="assets/img/mayor_avatar.jpg" alt="Mayor AI">-->
<!--    <h1>SAO-ÄÃŠM</h1>-->
<!--    <p class="subtitle">LifeAfter VN Assistant</p>-->
<!--  </div>-->

<!--  &lt;!&ndash; INFO BLOCKS &ndash;&gt;-->
<!--  <div class="info-grid-wrapper">-->
<!--    <div id="info-grid" class="info-grid">-->
<!--      <div class="info-card" data-modal="infoA">-->
<!--        ğŸ“¢-->
<!--        <span>Thá»i gian sá»± kiá»‡n camp</span>-->
<!--      </div>-->

<!--      <div class="info-card" data-modal="infoB">-->
<!--        âš”ï¸-->
<!--        <span>Giá»›i thiá»‡u vá» Cert</span>-->
<!--      </div>-->

<!--      <div class="info-card" data-modal="infoC">-->
<!--        ğŸ”-->
<!--        <span>Code Heart lock Zone</span>-->
<!--      </div>-->

<!--      <div class="info-card" data-modal="infoD">-->
<!--        ğŸ› ï¸-->
<!--        <span>Chi tiáº¿t skills Cert</span>-->
<!--      </div>-->


<!--    </div>-->
<!--  </div>-->


<!--  &lt;!&ndash; ENTER CHAT BUTTON &ndash;&gt;-->
<!--  <a id="mayor-chat" href="chat.html" class="enter-chat-btn round-focus">-->
<!--    <img src="assets/img/mayor_avatar.jpg">-->
<!--    <span>Báº¯t Ä‘áº§u chat vá»›i Mayor</span>-->
<!--  </a>-->

<!--</div>-->

<!-- MODAL -->
<div class="modal" id="infoModal">
  <div class="modal-content ai-modal-content">
    <h2 id="modalTitle"></h2>
    <div class="ai-training-box">
      <div class="ai-content" id="modalContent"></div>
    </div>
    <button id="closeModal" class="close-btn">ÄÃ³ng</button>
  </div>
</div>


<!-- ================== MODAL TEMPLATES ================== -->

<template id="tpl-infoA">
  <div class="ai-title">
    LÆ°u Ã½: ÄÃ¢y lÃ  giá» VN, khÃ´ng pháº£i giá» Ingame
  </div>
  <div>+ <span style="color: orange">Thá»© 2 (19h â€“ 20h30):</span> Nháº·t hÃ²m (Resource Scramble)</div>
  <div>+ <span style="color: orange">19h háº±ng ngÃ y:</span> Patrol</div>
  <div>+ <span style="color: orange">21h30 tá»‘i thá»© 3:</span> Def camp (Camp Invasion)</div>
  <div>+ <span style="color: orange">22h tá»‘i thá»© 5:</span> Boss camp</div>


</template>

<template id="tpl-infoB">
  <div class="ai-section">

    <p class="ai-paragraph">
      ğŸ“Œ <b>Sau báº£n update ngÃ y <span class="highlight">31/12/2025</span></b>, há»‡ thá»‘ng
      <b>Cert</b> trong LifeAfter Ä‘Ã£ Ä‘Æ°á»£c <b>chia rÃµ rá»‡t</b> vÃ  cÃ³ nhiá»u cáº£i tiáº¿n má»›i.
    </p>

    <p class="ai-paragraph">
      NgoÃ i <b>Cert chÃ­nh</b>, ngÆ°á»i chÆ¡i giá» Ä‘Ã¢y cÃ³ thá»ƒ chá»n thÃªm
      <b class="neon-text">Cert Part-time (Cert phá»¥)</b>.
    </p>

    <div class="ai-warning">
      âš ï¸ <b>LÆ°u Ã½ quan trá»ng:</b><br>
      Cert phá»¥ <u>khÃ´ng má»Ÿ toÃ n bá»™ ká»¹ nÄƒng</u> cá»§a nghá» Ä‘Ã³.
      Há»‡ thá»‘ng chá»‰ cho phÃ©p chá»n <b>má»™t sá»‘ skill cá»‘ Ä‘á»‹nh</b>.
      <br><br>
      ğŸ‘‰ VÃ­ dá»¥: KhÃ´ng thá»ƒ vá»«a chÆ¡i nghá» sÃºng, vá»«a cháº¿ táº¡o giÃ¡p â€“ sÃºng nhÆ° nghá» cháº¿.
    </div>

    <!-- ===== NGHá»€ CÆ  Báº¢N ===== -->
    <h3 class="ai-title">âš”ï¸ Nghá» cÆ¡ báº£n</h3>
    <p class="ai-paragraph">
      Váº«n hoáº¡t Ä‘á»™ng nhÆ° há»‡ thá»‘ng cÅ© â€“ cá»™ng chá»‰ sá»‘ trá»±c tiáº¿p vÃ  lÃ  ná»n táº£ng chÃ­nh cá»§a nhÃ¢n váº­t.
    </p>

    <img
        src="assets/img/guide/cert/basic_skill.png"
        class="ai-img"
        alt="Basic Cert Skill"
    >

    <p class="ai-paragraph">
      CÃ¡c nhÃ¡nh ká»¹ nÄƒng sáº½ Ä‘Æ°á»£c lá»±a chá»n <b>theo lá»‘i chÆ¡i cá»§a báº¡n</b>.
    </p>

    <img
        src="assets/img/guide/cert/skill_path.png"
        class="ai-img"
        alt="Cert Skill Path"
    >

    <!-- ===== NGHá»€ PHá»¤ ===== -->
    <h3 class="ai-title">ğŸ§© Nghá» phá»¥ (Cert Part-time)</h3>

    <p class="ai-paragraph">
      NgÆ°á»i chÆ¡i Ä‘Æ°á»£c chá»n <b>má»™t nghá» phá»¥</b> trong danh sÃ¡ch Ä‘á»ƒ há»— trá»£ lá»‘i build.
    </p>

    <img
        src="assets/img/guide/cert/additional_skill.png"
        class="ai-img"
        alt="Additional Cert Skill"
    >

    <!-- ===== TÃ“M Táº®T NGHá»€ ===== -->
    <h3 class="ai-title">ğŸ“‹ TÃ³m táº¯t cÃ¡c nhÃ³m nghá»</h3>

    <div class="ai-list-block">
      <h4 class="ai-subtitle">ğŸŒ¿ Nghá» Farm (thu tháº­p nguyÃªn liá»‡u)</h4>
      <ul class="ai-list">
        <li>ğŸŒ² Logger â€“ Nghá» gá»—</li>
        <li>ğŸŒ¿ Hemp Picker â€“ HÃ¡i lá»¥m</li>
        <li>â›ï¸ Miner â€“ Khai thÃ¡c Ä‘Ã¡</li>
      </ul>
    </div>

    <div class="ai-list-block">
      <h4 class="ai-subtitle">ğŸ”¥ Nghá» Chiáº¿n Äáº¥u</h4>
      <ul class="ai-list">
        <li>
          ğŸ”« <b>Rifle</b> â€“ Thuáº§n chiáº¿n Ä‘áº¥u, dame cao nháº¥t hiá»‡n táº¡i
        </li>
        <li>
          ğŸ§¬ <b>Virus</b> â€“ Vá»«a Ä‘Ã¡nh vá»«a há»— trá»£, buff dame & há»“i phá»¥c
        </li>
        <li>
          ğŸ›¡ï¸ <b>Warrior</b> â€“ Cáº­n chiáº¿n, tanky nháº¥t trong PvP
        </li>
        <li class="dim">
          âš”ï¸ Ark Knight â€“ Há»— trá»£ lÃ  chÃ­nh, dame tháº¥p (âŒ khÃ´ng khuyáº¿n nghá»‹)
        </li>
      </ul>
    </div>

    <div class="ai-list-block">
      <h4 class="ai-subtitle">ğŸ› ï¸ Nghá» Cháº¿ Táº¡o</h4>
      <ul class="ai-list">
        <li>
          Armor / Gun Maker / Upholstery â€“ Cháº¿ nguyÃªn liá»‡u sÃºng & giÃ¡p
        </li>
        <li class="note">
          ğŸ‘‰ Phá»¥ thuá»™c nguá»“n nguyÃªn liá»‡u tá»« nghá» farm
        </li>
      </ul>
    </div>

  </div>
</template>


<template id="tpl-infoC">
  <div class="ai-content">

    <div class="map-block">
      <div class="map-title">ğŸ—ºï¸ Map: Silent Plain:</div>
      <div class="code-list">
        <span class="code-chip">006</span>
        <span class="code-chip">1205</span>
        <span class="code-chip">3326</span>
        <span class="code-chip">8254</span>
      </div>
      <button class="copy-map-btn" title="Copy toÃ n bá»™ code">
        ğŸ“‹ Copy
      </button>
    </div>
    <div class="map-block">
      <div class="map-title">ğŸ—ºï¸ Map: Mount Gray Bear:</div>
      <div class="code-list">
        <span class="code-chip">96</span>
        <span class="code-chip">222</span>
        <span class="code-chip">333</span>
        <span class="code-chip">451</span>
        <span class="code-chip">777</span>
        <span class="code-chip">0000</span>
        <span class="code-chip">0524</span>
      </div>
      <button class="copy-map-btn" title="Copy toÃ n bá»™ code">
        ğŸ“‹ Copy
      </button>
    </div>
    <div class="map-block">
      <div class="map-title">ğŸ—ºï¸ Map: Santopany:</div>
      <div class="code-list">
        <span class="code-chip">13</span>
        <span class="code-chip">24</span>
        <span class="code-chip">98</span>
        <span class="code-chip">232</span>
        <span class="code-chip">997</span>
        <span class="code-chip">1010</span>
        <span class="code-chip">1114</span>
        <span class="code-chip">4222</span>
      </div>
      <button class="copy-map-btn" title="Copy toÃ n bá»™ code">
        ğŸ“‹ Copy
      </button>
    </div>


  </div>
</template>

<template id="tpl-infoD">
  <div class="skill-section" data-skill-root>

    <!-- JOB LIST (WHEEL VERSION) -->
    <div class="job-list job-wheel" data-job-wheel>
      <div class="job-wheel-track">

        <div class="job-item" data-job="rifle">
          <img src="assets/img/guide/cert_skills/rifle/rifle_symbol.png">
          <span>Rifle</span>
        </div>

        <div class="job-item" data-job="virus">
          <img src="https://picsum.photos/200?2">
          <span>Virus</span>
        </div>

        <div class="job-item" data-job="warrior">
          <img src="https://picsum.photos/200?3">
          <span>Warrior</span>
        </div>

      </div>
    </div>

    <!-- SKILL LIST -->
    <div class="skill-zone">
      <!-- BASIC SKILL -->
      <div class="skill-basic">
        <div class="skill-basic-label">Basic Skills</div>
        <div class="skill-list"></div>
      </div>

      <!-- SKILL TRAIT -->
      <div class="skill-trait">
        <div class="skill-trait-label">Skill Trait</div>

        <!-- CHá»ˆ render vÃ o Ä‘Ã¢y -->
        <div class="skill-trait-content">
          <div class="skill-trait-placeholder">
            Skill phá»¥ sáº½ hiá»ƒn thá»‹ á»Ÿ Ä‘Ã¢y
          </div>
        </div>
      </div>
    </div>




  </div>

  <!-- ğŸ”¥ PANEL CHI TIáº¾T -->
  <div class="skill-detail-panel">
    <div class="skill-detail-placeholder">
      Chá»n má»™t skill Ä‘á»ƒ xem thÃ´ng tin
    </div>
  </div>
</template>





<!-- Tutorial Overlay -->
<div id="tutorial-overlay">
  <div id="spotlight"></div>

  <div id="tooltip">
    <div id="tooltip-text"></div>
    <button id="tutorial-next">Tiáº¿p tá»¥c</button>
  </div>
</div>

<script>
  /* ===============================
     CONFIG
  ================================ */
  const VIDEO_W   = 1280;
  const VIDEO_H   = 720;
  const CONTENT_W = 475;

  /* ===============================
     ELEMENTS
  ================================ */
  const video        = document.getElementById('video');
  const hotspotLayer = document.getElementById('hotspot-layer');

  /* ===============================
     DEVICE CHECK
  ================================ */
  function isMobile() {
    return window.matchMedia('(max-width: 768px) and (pointer: coarse)').matches;
  }

  /* ===============================
     VIDEO LAYOUT
  ================================ */
  function layoutVideo() {
    const vw = window.innerWidth;
    const vh = window.innerHeight;

    const scaleContent = vw / CONTENT_W;
    const scaleVideo   = vw / VIDEO_W;
    const scale        = Math.max(scaleContent, scaleVideo);

    const renderW = VIDEO_W * scale;
    const renderH = VIDEO_H * scale;

    video.style.width  = renderW + 'px';
    video.style.height = renderH + 'px';

    const contentCenterX = (VIDEO_W / 2) * scale;
    video.style.left = (vw / 2 - contentCenterX) + 'px';
    video.style.top  = (vh - renderH) / 2 + 'px';
  }

  /* ===============================
     HOTSPOT ENGINE
  ================================ */
  class HotspotEngine {
    constructor(videoEl, layerEl, videoW, videoH) {
      this.video  = videoEl;
      this.layer  = layerEl;
      this.videoW = videoW;
      this.videoH = videoH;
      this.items  = [];
    }

    collect() {
      this.items = Array.from(this.layer.querySelectorAll('.hotspot'));
    }

    update() {
      if (!this.video || !this.items.length) return;

      const rect = this.video.getBoundingClientRect();

      this.items.forEach(hs => {
        const x = parseFloat(hs.dataset.x);
        const y = parseFloat(hs.dataset.y);

        if (isNaN(x) || isNaN(y)) return;

        const px = rect.left + (x / this.videoW) * rect.width;
        const py = rect.top  + (y / this.videoH) * rect.height;

        hs.style.left = px + 'px';
        hs.style.top  = py + 'px';
      });
    }
  }

  /* ===============================
     INIT
  ================================ */
  const hotspotEngine = new HotspotEngine(
      video,
      hotspotLayer,
      VIDEO_W,
      VIDEO_H
  );

  /* ===============================
     SYNC ALL
  ================================ */
  function syncLayout() {
    layoutVideo();
    hotspotEngine.update();
  }

  /* ===============================
     BOOTSTRAP
  ================================ */
  if (isMobile()) {
    // load video only on mobile
    video.src = '/assets/videos/mobile_workspace_mayor.mp4';
    video.load();

    window.addEventListener('load', () => {
      hotspotEngine.collect();
      syncLayout();
    });

    window.addEventListener('resize', syncLayout);
  }
</script>




<script src="assets/js/loading.js"></script>
<script src="assets/js/tutorial_index.js"></script>
<script src="assets/js/hope101_time.js"></script>
<script src="assets/js/heartlock_zone_info.js"></script>
<script src="assets/js/cert_detail_info.js"></script>
<script>
  const modal = document.getElementById("infoModal");
  const modalTitle = document.getElementById("modalTitle");
  const modalContent = document.getElementById("modalContent");
  const closeModal = document.getElementById("closeModal");

  // Chá»‰ cÃ²n metadata
  const modalData = {
    infoA: {
      title: "Thá»i gian event camp",
      template: "tpl-infoA"
    },
    infoB: {
      title: "âš”ï¸ Giá»›i thiá»‡u vá» Cert",
      template: "tpl-infoB"
    },
    infoC: {
      title: "ğŸ” Code Heart Lock Zone",
      template: "tpl-infoC"
    },
    infoD: {
      title: "ğŸ› ï¸ Code Heart Lock Zone",
      template: "tpl-infoD"
    },

  };

  document.querySelectorAll(".info-card").forEach(card => {
    card.addEventListener("click", () => {
      const key = card.dataset.modal;
      const data = modalData[key];
      if (!data) return;

      modalTitle.textContent = data.title;

      // clear content cÅ©
      modalContent.innerHTML = "";

      // clone template
      const tpl = document.getElementById(data.template);
      modalContent.appendChild(tpl.content.cloneNode(true));

      modal.style.display = "flex";
    });
  });

  closeModal.onclick = () => modal.style.display = "none";
  modal.onclick = e => {
    if (e.target === modal) modal.style.display = "none";
  };
</script>
</body>
</html>
